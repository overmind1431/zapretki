<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–µ–≤–∏–¥–∏–º—ã—Ö –∑–∞–ø—Ä–µ—Ç–æ–∫</title>
  <style>
    :root { /* –µ–¥–∏–Ω–∞—è —Ç–µ–º–∞ donation alerts */
      --bg-color: #1e1e1e;
      --card-bg: #2a2a2a;
      --primary: #ff9933;
      --text: #fff;
      --radius: 8px;
      --shadow: 0 2px 8px rgba(0,0,0,0.7);
      --opacity: 0.4;
    }
    *, *::before, *::after { box-sizing: border-box; }
    body { margin:0; padding:16px; font-family:'Segoe UI',sans-serif; background:var(--bg-color); color:var(--text); }
    h1 { text-align:center; margin-bottom:16px; }
    .notice { background:var(--card-bg); padding:12px; border-radius:var(--radius); text-align:center; margin-bottom:16px; }
    .main { display:flex; gap:24px; max-width:1200px; margin:0 auto; }
    .sidebar, .speech-panel { flex:0 0 300px; background:var(--card-bg); box-shadow:var(--shadow); border-radius:var(--radius); padding:16px; }
    .sidebar .tables { display:flex; gap:8px; overflow-x:auto; }
    table { border-collapse:collapse; width:100%; font-size:0.75em; }
    th, td { border:1px solid #444; padding:4px 6px; text-align:center; }
    th { background:#333; }
    .content { flex:1; display:flex; flex-direction:column; }
    .controls { display:flex; flex-wrap:wrap; gap:16px; background:var(--card-bg); padding:16px; box-shadow:var(--shadow); border-radius:var(--radius); margin-bottom:24px; }
    .controls label { font-weight:600; display:flex; flex-direction:column; }
    select, textarea { width:100%; padding:8px; border:1px solid #555; border-radius:var(--radius); background:#222; color:var(--text); font-family:'Segoe UI',sans-serif; }
    .list-container { background:var(--card-bg); box-shadow:var(--shadow); border-radius:var(--radius); overflow:hidden; }
    .list-container h2 { background:var(--primary); color:#000; padding:12px; margin:0; }
    .list-container ul { list-style:none; padding:16px; margin:0; max-height:60vh; overflow-y:auto; }
    .list-container li { padding:4px 0; border-bottom:1px solid #333; word-break:break-all; }
    .list-container li:last-child { border:none; }
    .non-russian { opacity:var(--opacity); }
    button { width:100%; padding:10px; border:none; border-radius:var(--radius); background:var(--primary); color:#000; cursor:pointer; }
  </style>
</head>
<body>
  <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–µ–≤–∏–¥–∏–º—ã—Ö –∑–∞–ø—Ä–µ—Ç–æ–∫</h1>
  <div class="notice">–° –ø–æ–º–æ—â—å—é –º–∞—à–∏–Ω–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –∏ —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä–∞ —Ä–µ—á–∏ –≤—ã–±—Ä–∞–Ω—ã –∏–¥–µ–∞–ª—å–Ω—ã–µ –æ–º–æ–≥–ª–∏—Ñ—ã.</div>
  <div class="main">
    <aside class="sidebar">
      <div class="tables">
        <table>
          <thead><tr><th>–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –±—É–∫–≤–∞</th><th>–û–º–æ–≥–ª–∏—Ñ</th></tr></thead>
          <tbody>
            <tr><td>–±</td><td>–±</td></tr>
            <tr><td>–≤</td><td> ô</td></tr>
            <tr><td>–≥</td><td>·¥¶</td></tr>
            <tr><td>–µ</td><td>‚ÑÆ</td></tr>
            <tr><td>–∑</td><td>…ú</td></tr>
            <tr><td>–∏</td><td>Õ∑</td></tr>
            <tr><td>–∫</td><td>ƒ∏</td></tr>
            <tr><td>–ª</td><td>·¥´</td></tr>
            <tr><td>–º</td><td>·¥ç</td></tr>
            <tr><td>–Ω</td><td> ú</td></tr>
            <tr><td>–æ</td><td>Œø</td></tr>
            <tr><td>–ø</td><td>·¥®</td></tr>
            <tr><td>—Ä</td><td>‚≤£</td></tr>
            <tr><td>—Å</td><td>œ≤</td></tr>
            <tr><td>—Ç</td><td>·¥õ</td></tr>
            <tr><td>—Ñ</td><td>…∏</td></tr>
            <tr><td>—è</td><td>·¥ô</td></tr>
          </tbody>
        </table>
        <table>
          <thead><tr><th>–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –±—É–∫–≤–∞</th><th>–û–º–æ–≥–ª–∏—Ñ</th></tr></thead>
          <tbody>
            <tr><td>–ê</td><td>Œë</td></tr>
            <tr><td>–í</td><td>Œí</td></tr>
            <tr><td>–ì</td><td>Œì</td></tr>
            <tr><td>–ï</td><td>Œï</td></tr>
            <tr><td>–ó</td><td>Íù™</td></tr>
            <tr><td>–ò</td><td>êê•</td></tr>
            <tr><td>–ö</td><td>Œö</td></tr>
            <tr><td>–ú</td><td>Œú</td></tr>
            <tr><td>–ù</td><td>Œó</td></tr>
            <tr><td>–û</td><td>Œü</td></tr>
            <tr><td>–ü</td><td>Œ†</td></tr>
            <tr><td>–†</td><td>Œ°</td></tr>
            <tr><td>–°</td><td>·èü</td></tr>
            <tr><td>–¢</td><td>Œ§</td></tr>
            <tr><td>–£</td><td>·é©</td></tr>
            <tr><td>–§</td><td>’ì</td></tr>
            <tr><td>–•</td><td>Œß</td></tr>
          </tbody>
        </table>
      </div>
    </aside>
    <div class="content">
      <div class="controls">
        <label>–†–µ–≥–∏—Å—Ç—Ä
          <select id="reg"></select>
        </label>
        <label>–§–∞–π–ª
          <select id="file"></select>
        </label>
      </div>
      <div class="list-container">
        <h2 id="title">–°–ø–∏—Å–æ–∫ —Å–ª–æ–≤</h2>
        <ul id="list"></ul>
      </div>
    </div>
    <aside class="speech-panel">
      <label>–¢–µ–∫—Å—Ç
        <textarea id="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
      </label>
      <button id="speak">–ü—Ä–æ—Å–ª—É—à–∞—Ç—å</button>
    </aside>
  </div>
  <script>
    const src = {
      upper: { dir: 'UPPERCASE', files: ['churka.txt','daun.txt','hohol.txt','jid.txt','negr.txt','niga.txt','niger.txt','pedik.txt','pidor.txt','pidrila.txt'] },
      lower: { dir: 'lowercase', files: ['churka.txt','daun.txt','hohol.txt','jid.txt','negr.txt','niga.txt','niger.txt','pedik.txt','pidor.txt'] }
    };
    const lab = {
      'churka.txt': '—á—É—Ä–∫–∞', 'daun.txt': '–¥–∞—É–Ω', 'hohol.txt': '—Ö–æ—Ö–æ–ª', 'jid.txt': '–∂–∏–¥',
      'negr.txt': '–Ω–µ–≥—Ä', 'niga.txt': '–Ω–∏–≥–∞', 'niger.txt': '–Ω–∏–≥–µ—Ä', 'pedik.txt': '–ø–µ–¥–∏–∫',
      'pidor.txt': '–ø–∏–¥–æ—Ä', 'pidrila.txt': '–ø–∏–¥—Ä–∏–ª–∞'
    };
    const reg = document.getElementById('reg'), file = document.getElementById('file'), list = document.getElementById('list'), title = document.getElementById('title');
    const populate = () => {
      reg.innerHTML = '';
      ['upper','lower'].forEach(m => reg.add(new Option(m, m)));
      file.innerHTML = '';
      src[reg.value].files.forEach(f => file.add(new Option(lab[f] || f, f)));
    };
    const render = () => {
      list.innerHTML = '';
      title.textContent = lab[file.value] || file.value;
      fetch(`${src[reg.value].dir}/${file.value}`)
        .then(r => r.ok ? r.text() : Promise.reject(r.statusText))
        .then(t => t.split(/\r?\n/).forEach(l => {
          if (!l.trim()) return;
          const li = document.createElement('li');
          Array.from(l).forEach(ch => {
            const span = document.createElement('span');
            span.textContent = ch;
            if (!/[–ê-–Ø–∞-—è–Å—ë\s]/.test(ch)) span.classList.add('non-russian');
            li.append(span);
          });
          list.append(li);
        }))
        .catch(() => {});
    };
    reg.addEventListener('change', () => { populate(); render(); });
    file.addEventListener('change', render);
    populate(); render();
    // speech synthesis with Irina
    let voices = [];
    speechSynthesis.onvoiceschanged = () => voices = speechSynthesis.getVoices();
    voices = speechSynthesis.getVoices();
    document.getElementById('speak').addEventListener('click', () => {
      const utter = new SpeechSynthesisUtterance(document.getElementById('text').value);
      utter.lang = 'ru-RU';
      let voice = voices.find(v => /Irina/i.test(v.name) && v.lang === 'ru-RU');
      if (!voice) voice = voices.find(v => v.lang === 'ru-RU');
      if (voice) utter.voice = voice;
      speechSynthesis.speak(utter);
    });
  </script>
</body>
</html>
